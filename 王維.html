<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wang Wei's Instagram</title>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: #121212;
            font-family: 'Roboto', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* ÊâãÊ©üÂÆπÂô®Ê®£Âºè */
        #app-container {
            width: 100%;
            max-width: 430px; /* iPhone Pro Max width approx */
            height: 100vh;
            max-height: 932px;
            background-color: #000;
            color: white;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
        }

        @media (min-width: 450px) {
            #app-container {
                height: 90vh;
                border-radius: 30px;
                border: 8px solid #333;
            }
        }

        /* Ë©©Ë©ûÂ≠óÈ´î */
        .font-poem {
            font-family: 'Noto Serif TC', serif;
        }

        /* Ê∞¥Â¢®/ÂÆ£Á¥ôÊøæÈè°ÊïàÊûú */
        .ink-filter {
            position: relative;
        }
        .ink-filter::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.1'/%3E%3C/svg%3E");
            pointer-events: none;
            mix-blend-mode: overlay;
        }
        .ink-img {
            filter: sepia(0.3) contrast(1.1) brightness(0.9) grayscale(0.2);
        }

        /* ÂúñÁâá‰∏ä‰∏ãÊµÆÂãïÂãïÁï´ */
        @keyframes floating {
            0% { transform: translateY(0) scale(1.05); }
            50% { transform: translateY(-10px) scale(1.05); }
            100% { transform: translateY(0) scale(1.05); }
        }
        .animate-float {
            animation: floating 6s ease-in-out infinite;
        }

        /* Èö±ËóèÊªæÂãïÊ¢ù‰ΩÜ‰øùÊåÅÊªæÂãï */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Story Progress Bar */
        .progress-bar {
            transition: width 0.1s linear;
        }
    </style>
</head>
<body>

    <div id="app">
        <div id="app-container">
            
            <header v-if="currentView !== 'story'" class="px-4 py-3 flex justify-between items-center bg-black border-b border-gray-800 z-20">
                <div v-if="currentView === 'home'" class="flex items-center gap-2">
                    <h1 class="font-poem text-2xl font-bold tracking-widest">ÁéãÁ∂≠_WangWei</h1>
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse" v-if="hasUnread"></span>
                </div>
                
                <div v-if="currentView === 'profile'" class="font-bold text-lg flex items-center gap-1">
                    wangwei_poet_buddha <i class="fas fa-certificate text-blue-500 text-xs"></i>
                </div>

                <div v-if="currentView === 'dm'" class="flex items-center gap-4">
                    <i class="fas fa-arrow-left cursor-pointer" @click="currentView = 'home'"></i>
                    <span class="font-bold text-lg">wangwei_poet_buddha</span>
                </div>

                <div v-if="currentView === 'post-detail'" class="flex items-center gap-4">
                    <i class="fas fa-arrow-left cursor-pointer" @click="currentView = 'home'"></i>
                    <span class="font-bold text-xs text-gray-400 uppercase">Posts</span>
                </div>

                <div class="flex gap-5 text-xl">
                    <i v-if="currentView === 'home'" class="far fa-heart cursor-pointer hover:text-red-500 transition"></i>
                    <i v-if="currentView === 'home'" class="fab fa-facebook-messenger cursor-pointer hover:text-blue-400 transition" @click="currentView = 'dm'"></i>
                    <i v-if="currentView === 'profile'" class="fas fa-bars cursor-pointer"></i>
                    <i v-if="currentView === 'dm'" class="fas fa-edit cursor-pointer"></i>
                </div>
            </header>

            <main class="flex-1 overflow-y-auto scrollbar-hide relative bg-black">
                
                <div v-if="currentView === 'home'">
                    <div class="flex gap-4 p-4 border-b border-gray-800 overflow-x-auto scrollbar-hide">
                        <div class="flex flex-col items-center gap-1 cursor-pointer" @click="openStory">
                            <div class="w-16 h-16 rounded-full p-[3px] bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-600">
                                <img :src="user.avatar" class="w-full h-full rounded-full object-cover border-2 border-black">
                            </div>
                            <span class="text-xs text-gray-300">ÊÇ®ÁöÑÈôêÊôÇÂãïÊÖã</span>
                        </div>
                        <div class="flex flex-col items-center gap-1" v-for="friend in friends" :key="friend.id">
                            <div class="w-16 h-16 rounded-full p-[3px] bg-gray-700"> <img :src="friend.avatar" class="w-full h-full rounded-full object-cover border-2 border-black opacity-80">
                            </div>
                            <span class="text-xs text-gray-400">{{ friend.name }}</span>
                        </div>
                    </div>

                    <div v-for="post in posts" :key="post.id" class="mb-6 border-b border-gray-800 pb-4">
                        <div class="flex items-center justify-between p-3">
                            <div class="flex items-center gap-3">
                                <img :src="user.avatar" class="w-8 h-8 rounded-full object-cover">
                                <span class="font-bold text-sm">wangwei_poet_buddha</span>
                            </div>
                            <i class="fas fa-ellipsis-h text-gray-400"></i>
                        </div>

                        <div class="w-full aspect-square bg-gray-900 overflow-hidden relative ink-filter cursor-pointer" @click="openPostDetail(post)">
                            <img :src="post.image" class="w-full h-full object-cover ink-img animate-float">
                        </div>

                        <div class="flex justify-between p-3 text-2xl">
                            <div class="flex gap-4">
                                <i class="fa-heart cursor-pointer transition transform active:scale-125" 
                                   :class="post.liked ? 'fas text-red-500' : 'far hover:text-gray-400'" 
                                   @click.stop="toggleLike(post)"></i>
                                <i class="far fa-comment cursor-pointer hover:text-gray-400" @click="openPostDetail(post)"></i>
                                <i class="far fa-paper-plane cursor-pointer hover:text-gray-400"></i>
                            </div>
                            <i class="far fa-bookmark cursor-pointer hover:text-gray-400"></i>
                        </div>

                        <div class="px-3">
                            <p class="font-bold text-sm mb-1">{{ post.likes.toLocaleString() }} ÂÄãËÆö</p>
                            <div class="text-sm">
                                <span class="font-bold mr-2">wangwei_poet_buddha</span>
                                <span class="font-poem">{{ post.short_caption }}</span>
                                <span class="text-gray-400 cursor-pointer" @click="openPostDetail(post)">... Êõ¥Â§ö</span>
                            </div>
                            <p class="text-gray-500 text-xs mt-1 uppercase">{{ post.time_ago }}</p>
                        </div>
                    </div>
                </div>

                <div v-if="currentView === 'profile'" class="p-4">
                    <div class="flex items-center justify-between mb-6">
                        <div class="w-20 h-20 rounded-full p-[2px] bg-gray-600">
                            <img :src="user.avatar" class="w-full h-full rounded-full object-cover border-2 border-black">
                        </div>
                        <div class="flex gap-6 text-center mr-4">
                            <div><div class="font-bold">256</div><div class="text-sm">Ë≤ºÊñá</div></div>
                            <div><div class="font-bold">1231K</div><div class="text-sm">Á≤âÁµ≤</div></div>
                            <div><div class="font-bold">8</div><div class="text-sm">ËøΩËπ§‰∏≠</div></div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="font-bold">ÁéãÁ∂≠ Wang Wei</div>
                        <div class="text-sm text-gray-300 whitespace-pre-line leading-relaxed">ÊôöÂπ¥ÂîØÂ•ΩÈùúÔºåËê¨‰∫ã‰∏çÈóúÂøÉ„ÄÇ
                            ‰ΩõÁ≥ªÁîüÊ¥ªÊé®Âª£Â§ß‰Ωø üßò‚Äç‚ôÇÔ∏è
                            üìç ËºûÂ∑ùÂà•Ê•≠ (Wangchuan Villa)
                            <span class="text-blue-400">@dufu_official</span> ÊòØÈ†≠ËôüÁ≤âÁµ≤</div>
                    </div>

                    <div class="flex gap-2 mb-6">
                        <button class="flex-1 bg-gray-800 py-1.5 rounded-lg font-bold text-sm">Á∑®ËºØÂÄã‰∫∫Ê™îÊ°à</button>
                        <button class="flex-1 bg-gray-800 py-1.5 rounded-lg font-bold text-sm">ÂàÜ‰∫´Ê™îÊ°à</button>
                    </div>

                    <div class="flex gap-4 mb-6 overflow-x-auto scrollbar-hide">
                        <div class="flex flex-col items-center gap-1 w-16 flex-shrink-0">
                            <div class="w-14 h-14 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center">üåø</div>
                            <span class="text-xs">ËºûÂ∑ùÈõÜ</span>
                        </div>
                        <div class="flex flex-col items-center gap-1 w-16 flex-shrink-0">
                            <div class="w-14 h-14 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center">üñåÔ∏è</div>
                            <span class="text-xs">Êõ∏Áï´</span>
                        </div>
                        <div class="flex flex-col items-center gap-1 w-16 flex-shrink-0">
                            <div class="w-14 h-14 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center">üéµ</div>
                            <span class="text-xs">ÂΩàÁê¥</span>
                        </div>
                    </div>

                    <div class="flex border-t border-gray-800 text-gray-400 text-2xl mb-1">
                        <div class="flex-1 flex justify-center py-2 border-b border-white text-white"><i class="fas fa-th"></i></div>
                        <div class="flex-1 flex justify-center py-2"><i class="fas fa-video"></i></div>
                        <div class="flex-1 flex justify-center py-2"><i class="fas fa-user-tag"></i></div>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-1">
                        <div v-for="post in posts" :key="post.id" class="aspect-square bg-gray-800 overflow-hidden relative cursor-pointer" @click="openPostDetail(post)">
                            <img :src="post.image" class="w-full h-full object-cover opacity-80 hover:opacity-100 transition">
                        </div>
                        <div class="aspect-square bg-gray-900 flex items-center justify-center text-gray-700 text-xs">Á´πÈáåÈ§®</div>
                        <div class="aspect-square bg-gray-900 flex items-center justify-center text-gray-700 text-xs">ÈõúË©©</div>
                        <div class="aspect-square bg-gray-900 flex items-center justify-center text-gray-700 text-xs">‰πùÊúà‰πùÊó•</div>
                    </div>
                </div>

                <div v-if="currentView === 'dm'" class="p-4">
                    <div class="relative mb-4">
                        <i class="fas fa-search absolute left-3 top-2.5 text-gray-500"></i>
                        <input type="text" placeholder="ÊêúÂ∞ã" class="w-full bg-gray-800 text-white rounded-lg pl-10 py-2 outline-none focus:bg-gray-700">
                    </div>
                    
                    <div class="flex justify-between mb-4">
                        <span class="font-bold text-lg">Ë®äÊÅØ</span>
                        <span class="text-blue-400 font-bold">Ë¶ÅÊ±Ç (99+)</span>
                    </div>

                    <div v-for="chat in dms" :key="chat.id" class="flex items-center gap-3 mb-4 cursor-pointer hover:bg-gray-900 p-2 rounded-lg transition">
                        <div class="relative">
                            <img :src="chat.avatar" class="w-14 h-14 rounded-full object-cover">
                            <div v-if="chat.online" class="absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-black rounded-full"></div>
                        </div>
                        <div class="flex-1">
                            <div class="font-bold text-white">{{ chat.name }}</div>
                            <div class="text-gray-400 text-sm truncate" :class="chat.unread ? 'font-bold text-white' : ''">
                                {{ chat.lastMsg }} ¬∑ {{ chat.time }}
                            </div>
                        </div>
                        <i v-if="chat.camera" class="fas fa-camera text-gray-500 text-xl"></i>
                    </div>
                </div>

                <div v-if="currentView === 'post-detail'" class="pb-10">
                    <div class="w-full h-80 bg-gray-900 relative ink-filter overflow-hidden">
                        <img :src="activePost.image" class="w-full h-full object-cover opacity-90 animate-float">
                        <div class="absolute bottom-0 w-full h-20 bg-gradient-to-t from-black to-transparent"></div>
                    </div>

                    <div class="p-4">
                        <div class="flex justify-between text-2xl mb-3">
                            <div class="flex gap-4">
                                <i class="fa-heart cursor-pointer transition" 
                                   :class="activePost.liked ? 'fas text-red-500' : 'far'" 
                                   @click="toggleLike(activePost)"></i>
                                <i class="far fa-comment"></i>
                                <i class="far fa-paper-plane"></i>
                            </div>
                            <i class="far fa-bookmark"></i>
                        </div>
                        <div class="font-bold mb-2">{{ activePost.likes.toLocaleString() }} ÂÄãËÆö</div>
                        
                        <div class="mb-4">
                            <h2 class="font-poem text-xl font-bold mb-1">{{ activePost.title }}</h2>
                            <p class="font-poem text-lg leading-loose text-gray-200 whitespace-pre-line tracking-widest mt-2" v-if="!activePost.showTranslation">
                                {{ activePost.content }}
                            </p>
                            <div v-else class="bg-gray-900 p-3 rounded-lg border border-gray-700 mt-2">
                                <p class="text-gray-300 text-sm leading-relaxed">{{ activePost.translation }}</p>
                            </div>
                            
                            <button @click="activePost.showTranslation = !activePost.showTranslation" 
                                    class="mt-2 text-xs font-bold text-white bg-gray-800 px-3 py-1 rounded-full border border-gray-600 hover:bg-gray-700">
                                <i class="fas fa-language mr-1"></i> {{ activePost.showTranslation ? 'È°ØÁ§∫ÂéüÊñá' : 'ÁøªË≠ØÂπ¥Á≥ï' }}
                            </button>
                        </div>

                        <div class="text-gray-500 text-xs mb-4 uppercase">{{ activePost.date }}</div>

                        <div class="border-t border-gray-800 pt-3">
                            <h3 class="font-bold mb-3 text-sm">ÁïôË®Ä</h3>
                            
                            <div v-for="(comment, index) in activePost.comments" :key="index" class="flex gap-3 mb-4">
                                <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden flex-shrink-0 text-xs font-bold">
                                    {{ comment.user.charAt(0) }}
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center gap-2">
                                        <span class="font-bold text-sm">{{ comment.user }}</span>
                                        <i v-if="comment.verified" class="fas fa-check-circle text-blue-500 text-xs"></i>
                                    </div>
                                    <p class="text-sm text-gray-200 mt-0.5">{{ comment.text }}</p>
                                    <div class="flex gap-3 mt-1 text-xs text-gray-500 font-bold">
                                        <span>ÂõûË¶Ü</span>
                                        <span v-if="comment.likes > 0">ÂñúÊ≠° ({{ comment.likes }})</span>
                                    </div>
                                </div>
                                <i class="far fa-heart text-xs text-gray-500 mt-2"></i>
                            </div>

                            <div class="flex items-center gap-2 mt-4">
                                <img :src="user.avatar" class="w-8 h-8 rounded-full">
                                <input type="text" placeholder="ÁïôË®Ä‰ª•ÁéãÁ∂≠Ë∫´ÂàÜ..." class="bg-transparent text-sm flex-1 outline-none text-white">
                                <button class="text-blue-500 font-bold text-sm opacity-50">Áôº‰Ωà</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div v-if="currentView === 'story'" class="absolute inset-0 z-50 bg-black flex flex-col">
                    <div class="flex gap-1 p-2 pt-4 absolute top-0 w-full z-20">
                        <div v-for="(story, index) in stories" :key="index" class="h-1 bg-gray-600 flex-1 rounded-full overflow-hidden">
                            <div class="h-full bg-white progress-bar" 
                                 :style="{ width: getStoryProgress(index) + '%' }"></div>
                        </div>
                    </div>

                    <div class="absolute top-8 left-0 p-3 w-full flex justify-between items-center z-20 text-shadow">
                        <div class="flex items-center gap-2">
                            <img :src="user.avatar" class="w-8 h-8 rounded-full border border-white">
                            <span class="font-bold text-sm text-white">wangwei_poet_buddha</span>
                            <span class="text-gray-300 text-xs">{{ stories[activeStoryIndex].timeAgo }}</span>
                        </div>
                        <div class="flex gap-4">
                            <i class="fas fa-ellipsis-h text-white"></i>
                            <i class="fas fa-times text-white text-2xl cursor-pointer" @click="closeStory"></i>
                        </div>
                    </div>

                    <div class="flex-1 relative w-full h-full ink-filter" @click="nextStory">
                         <img :src="stories[activeStoryIndex].image" class="absolute inset-0 w-full h-full object-cover">
                         <div class="absolute inset-0 bg-black bg-opacity-30"></div>
                         
                         <div class="absolute inset-0 flex flex-col items-center justify-center p-8 text-center">
                             <div class="font-poem text-4xl font-bold mb-4 text-white drop-shadow-lg animate-pulse">
                                 {{ stories[activeStoryIndex].text }}
                             </div>
                             
                             <div v-if="stories[activeStoryIndex].interactive" class="mt-10 bg-white text-black rounded-lg p-4 w-64 shadow-2xl transform rotate-2">
                                <div class="font-bold text-sm mb-2 text-center text-gray-500">ÂêëÊàëÊèêÂïè</div>
                                <div class="text-xl font-bold text-center">‰ªäÂ§©Ë¶Å‰∏çË¶ÅÂéªÂ±±‰∏äÔºü</div>
                                <div class="mt-2 flex bg-gray-200 rounded-full">
                                    <div class="flex-1 text-center py-1 text-2xl border-r border-white">ü§©</div>
                                    <div class="flex-1 text-center py-1 text-2xl">üò¥</div>
                                </div>
                             </div>

                             <div v-if="stories[activeStoryIndex].music" class="absolute top-1/2 mt-32 bg-black bg-opacity-60 px-4 py-2 rounded-full flex items-center gap-2 border border-white/20 backdrop-blur-sm">
                                <i class="fas fa-music text-green-400"></i>
                                <span class="text-xs">Âè§Áê¥ - ÈôΩÈóú‰∏âÁñä (Remix)</span>
                             </div>
                         </div>
                    </div>

                    <div class="absolute bottom-0 w-full p-4 flex items-center gap-3 bg-gradient-to-t from-black to-transparent z-20">
                        <input type="text" placeholder="ÁôºÈÄÅË®äÊÅØ..." class="bg-transparent border border-gray-500 rounded-full px-4 py-2 text-white flex-1 placeholder-gray-300 text-sm">
                        <i class="far fa-heart text-2xl text-white"></i>
                        <i class="far fa-paper-plane text-2xl text-white"></i>
                    </div>

                    <div class="absolute inset-y-0 left-0 w-1/4 z-10" @click.stop="prevStory"></div>
                </div>

            </main>

            <footer v-if="currentView !== 'story'" class="px-6 py-3 bg-black border-t border-gray-800 flex justify-between items-center text-2xl z-20">
                <i class="fas fa-home cursor-pointer transition" :class="currentView === 'home' ? 'text-white' : 'text-gray-500'" @click="currentView = 'home'"></i>
                <i class="fas fa-search text-gray-500 cursor-pointer"></i>
                <i class="far fa-plus-square text-gray-500 cursor-pointer text-3xl"></i>
                <i class="fab fa-youtube text-gray-500 cursor-pointer"></i> <div @click="currentView = 'profile'" class="cursor-pointer border-2 rounded-full p-[1px]" :class="currentView === 'profile' ? 'border-white' : 'border-transparent'">
                    <img :src="user.avatar" class="w-6 h-6 rounded-full">
                </div>
            </footer>

        </div>
    </div>

    <script>
        const { createApp, ref, onMounted, onUnmounted } = Vue;

        createApp({
            setup() {
                const currentView = ref('home');
                const hasUnread = ref(true);
                
                // Mock Images (Using reliable nature placeholders suitable for Wang Wei)
                // Note: Using standard placeholders because specific Unsplash IDs can expire.
                const imgs = {
                    avatar: 'https://images.unsplash.com/photo-1525127620701-d0092d6e3860?w=150&h=150&fit=crop', // Ink/Art style
                    post1: 'https://images.unsplash.com/photo-1517056023301-44331e5d76d6?w=500&h=500&fit=crop', // Moon/Night
                    post2: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=500&h=500&fit=crop', // Forest/Light
                    post3: 'https://images.unsplash.com/photo-1508614561726-262dbfae3650?w=500&h=500&fit=crop', // Red/Berries
                    story1: 'https://images.unsplash.com/photo-1519999482648-25049ddd37b1?w=400&h=800&fit=crop',
                    story2: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400&h=800&fit=crop',
                    dufu: 'https://randomuser.me/api/portraits/men/32.jpg',
                    peidi: 'https://randomuser.me/api/portraits/men/45.jpg',
                    libai: 'https://randomuser.me/api/portraits/men/11.jpg'
                };

                const user = ref({
                    name: 'ÁéãÁ∂≠ Wang Wei',
                    handle: 'wangwei_poet_buddha',
                    avatar: imgs.avatar
                });

                // Stories Data
                const stories = ref([
                    { id: 1, image: imgs.avatar, text: 'Ëá™Êàë‰ªãÁ¥πÔºåÂâõÂâµIGÔºåÂ§öÂ§öÈóúÁÖß üôè', timeAgo: '23Â∞èÊôÇ', interactive: false },
                    { id: 2, image: imgs.story1, text: 'Èõ≤Ê∫™ÊâìÂç° ‚òÅÔ∏è', timeAgo: '12Â∞èÊôÇ', interactive: true },
                    { id: 3, image: imgs.story2, text: 'ÊÉ≥ÈÄÄ‰ºë... #‰ΩõÁ≥ª', timeAgo: '2Â∞èÊôÇ', music: true },
                    { id: 4, image: imgs.post1, text: 'Ë©©‰Ωõ Mode On', timeAgo: 'ÂâõÂâõ', interactive: false }
                ]);
                const activeStoryIndex = ref(0);
                const storyProgress = ref(0);
                let storyTimer = null;

                // Friends for Story bar
                const friends = ref([
                    { id: 1, name: 'ÊùúÁî´_DuFu', avatar: imgs.dufu },
                    { id: 2, name: 'Ë£¥Ëø™_Pei', avatar: imgs.peidi },
                    { id: 3, name: 'ÊùéÁôΩ_LiBai', avatar: imgs.libai },
                    { id: 4, name: 'Â≠üÊµ©ÁÑ∂', avatar: 'https://randomuser.me/api/portraits/men/88.jpg' },
                ]);

                // Posts Data
                const posts = ref([
                    {
                        id: 1,
                        title: 'È≥•È≥¥Êæó',
                        content: '‰∫∫ÈñíÊ°ÇËä±ËêΩÔºåÂ§úÈùúÊò•Â±±Á©∫„ÄÇ\nÊúàÂá∫È©öÂ±±È≥•ÔºåÊôÇÈ≥¥Êò•Êæó‰∏≠„ÄÇ',
                        translation: '„ÄêÁøªË≠Ø„Äë\nÂú®ÂØÇÈùúÁÑ°‰∫∫ÁöÑÂ±±Ë∞∑‰∏≠ÔºåÂè™ÊúâÊ°ÇËä±ÁÑ°ËÅ≤Âú∞È£ÑËêΩ„ÄÇ\nÂ§úËâ≤ÂØßÈùúÔºåÊò•Â±±È°ØÂæóÊ†ºÂ§ñÁ©∫Èùà„ÄÇ\nÊòéÊúàÂçáËµ∑ÔºåÈ©öÂãï‰∫ÜÊ£≤ÊÅØÁöÑÂ±±È≥•„ÄÇ\nÂÆÉÂÄë‰∏çÊôÇÂú∞Âú®Êò•Â§©ÁöÑÊ∫™Êæó‰∏≠È≥¥Âè´„ÄÇ',
                        image: imgs.post1,
                        short_caption: '‰∫∫ÈñíÊ°ÇËä±ËêΩ... üå∏',
                        likes: 5200,
                        time_ago: '2 Â§©Ââç',
                        date: '741Âπ¥ 4Êúà 15Êó•',
                        liked: false,
                        showTranslation: false,
                        comments: [
                            { user: 'ÊùúÁî´_DuFu', text: 'Êë©Ë©∞ÂÖÑÈÄôÊÑèÂ¢ÉÂ§™Áæé‰∫ÜÔºÅÂ∑≤ÊåâËÆöÔºÅ‚ù§Ô∏è', verified: true, likes: 105 },
                            { user: 'ÊùéÁôΩ_LiBai', text: 'Âè™ÊúâËä±ËêΩÔºüÊ≤íÊúâÈÖíÂóéÔºüüç∑', verified: true, likes: 88 },
                            { user: 'Elon Musk', text: 'ÈÄôÂ∫ßÂ±±Ë≥£ÂóéÔºüÊàëÊÉ≥Âú®ÈÄôË£°ËìãÁôºÂ∞ÑÂü∫Âú∞„ÄÇüöÄ', verified: true, likes: 420 },
                            { user: 'ÊüèÂ®Å', text: 'Èõ≤Ê∫™Âà•Â¢ÖÁ®ÄÊúâÈáãÂá∫ÔºåÊÑèËÄÖÁßÅË®äÔºÅüè°', verified: false, likes: 2 },
                            { user: 'ÊâøÂÆ•', text: 'ÊàëË¶ÅÊàëË¶ÅÔºÅÂÖ®Ê¨æÊãø‰∏ãÔºåso easyÂï¶~~~', verified: false, likes: 5 }
                        ]
                    },
                    {
                        id: 2,
                        title: 'ÈπøÊü¥',
                        content: 'Á©∫Â±±‰∏çË¶ã‰∫∫Ôºå‰ΩÜËÅû‰∫∫Ë™ûÈüø„ÄÇ\nËøîÊôØÂÖ•Ê∑±ÊûóÔºåÂæ©ÁÖßÈùíËãî‰∏ä„ÄÇ',
                        translation: '„ÄêÁøªË≠Ø„Äë\nÁ©∫ÂØÇÁöÑÂ±±‰∏≠Áúã‰∏çË¶ã‰∫∫ÂΩ±Ôºå\nÂè™ËÅΩÂæóË¶ã‰∫∫Ë™™Ë©±ÁöÑËÅ≤Èü≥„ÄÇ\nËêΩÊó•ÁöÑÈ§òÊöâÂ∞ÑÂÖ•Ê∑±Êûó‰∏≠Ôºå\nÂèàÁÖßÊò†Âú®ÂπΩÊöóÁöÑÈùíËãî‰∏ä„ÄÇ',
                        image: imgs.post2,
                        short_caption: 'Á©∫Â±±‰∏çË¶ã‰∫∫... üå≤',
                        likes: 3340,
                        time_ago: '5 Â§©Ââç',
                        date: '741Âπ¥ 4Êúà 12Êó•',
                        liked: true,
                        showTranslation: false,
                        comments: [
                            { user: 'Ë£¥Ëø™_Pei', text: 'ÈÄô‰∏çÊòØÊàëÂÄë‰∏äÊ¨°Ëø∑Ë∑ØÁöÑÂú∞ÊñπÂóéÔºü', verified: true, likes: 50 },
                            { user: 'Èô∂Ê∑µÊòé_Official', text: 'ÈÄôË£°‰∏çÈåØÔºåÈÅ©ÂêàÁ®ÆËèäËä±„ÄÇüåº', verified: true, likes: 200 },
                            { user: 'Jay Chou', text: 'ÂìéÂî∑ÔºåÈÄôÂÖâÂΩ±‰∏çÈåØÂñîÔºåÈÅ©ÂêàÊãçMV„ÄÇüé∏', verified: true, likes: 999 }
                        ]
                    },
                    {
                        id: 3,
                        title: 'Áõ∏ÊÄù',
                        content: 'Á¥ÖË±ÜÁîüÂçóÂúãÔºåÊò•‰æÜÁôºÂπæÊûù„ÄÇ\nÈ°òÂêõÂ§öÈááÊì∑ÔºåÊ≠§Áâ©ÊúÄÁõ∏ÊÄù„ÄÇ',
                        translation: '„ÄêÁøªË≠Ø„Äë\nÁ¥ÖË±ÜÁîüÈï∑Âú®ÂçóÂúãÔºå\nÊò•Â§©‰æÜ‰∫ÜÔºå‰∏çÁü•Èï∑Âá∫‰∫ÜÂ§öÂ∞ëÊñ∞ÊûùÔºü\nÂ∏åÊúõ‰Ω†Â§öÊé°Êëò‰∏Ä‰∫õÔºå\nÂõ†ÁÇ∫ÂÆÉÊúÄËÉΩÂØÑË®óÁõ∏ÊÄù‰πãÊÉÖ„ÄÇ',
                        image: imgs.post3,
                        short_caption: 'Á¥ÖË±ÜÁîüÂçóÂúã... üî¥',
                        likes: 8888,
                        time_ago: '1 ÈÄ±Ââç',
                        date: '741Âπ¥ 4Êúà 1Êó•',
                        liked: false,
                        showTranslation: false,
                        comments: [
                            { user: 'ÊùéÈæúÂπ¥_Singer', text: 'ÈÄôÈ¶ñÊ≠åÊàëÂî±‰∫Ü‰∏ÄËê¨ÈÅç‰∫ÜÔºåÁâàÊ¨äË≤ª‰ªÄÈ∫ºÊôÇÂÄôÁµê‰∏Ä‰∏ãÔºüüé§', verified: true, likes: 300 },
                            { user: 'ÊûóÈªõÁéâ', text: 'Êª¥‰∏çÁõ°Áõ∏ÊÄùË°ÄÊ∑öÊããÁ¥ÖË±Ü...üò≠', verified: false, likes: 150 },
                            { user: 'Ê¨£Ëìâ', text: 'ÂçóÂúãÁ¥ÖË±ÜÁèæÊ≠£ÁâπÂÉπ‰∏≠ÔºåË≤∑‰∏ÄÈÄÅ‰∏ÄÔºåÈÄ£ÁµêÂú®‰∏ªÈ†ÅÔºÅüõí', verified: false, likes: 1 },
                            { user: 'ÊâøÁÜô', text: 'Á¥ÖË±ÜÔºÅÁ¥ÖË±ÜÊ≥•? üò≤', verified: false, likes: 12 }
                        ]
                    }
                ]);

                // DM Data
                const dms = ref([
                    { id: 1, name: 'ÊùúÁî´_DuFu', avatar: imgs.dufu, lastMsg: 'Êë©Ë©∞ÂÖÑÔºÅÊÇ®ÁöÑÊñ∞Ë©©Â§™Á•û‰∫ÜÔºåË´ãÂïè‰ªÄÈ∫ºÊôÇÂÄôÊúâÁ©∫...', time: 'ÂâõÂâõ', unread: true, online: true, camera: true },
                    { id: 2, name: 'Ë£¥Ëø™_Pei', avatar: imgs.peidi, lastMsg: '‰∏äÊ¨°ÈÇ£Áì∂ÈÖíÈÇÑÊ≤íÂñùÂÆå', time: '2Â∞èÊôÇÂâç', unread: false, online: false, camera: false },
                    { id: 3, name: 'ÊùéÁôΩ_LiBai', avatar: imgs.libai, lastMsg: '‰∏çÂú®ÊúçÂãôÂçÄ / ÂñùÈÜâ‰∏≠ üç∂', time: 'Êò®Â§©', unread: false, online: false, camera: false },
                ]);

                const activePost = ref(posts.value[0]);

                // Methods
                const openPostDetail = (post) => {
                    activePost.value = post;
                    currentView.value = 'post-detail';
                };

                const toggleLike = (post) => {
                    post.liked = !post.liked;
                    post.likes += post.liked ? 1 : -1;
                };

                // Story Logic
                const openStory = () => {
                    currentView.value = 'story';
                    activeStoryIndex.value = 0;
                    storyProgress.value = 0;
                    startStoryTimer();
                };

                const closeStory = () => {
                    clearInterval(storyTimer);
                    currentView.value = 'home';
                };

                const nextStory = () => {
                    if (activeStoryIndex.value < stories.value.length - 1) {
                        activeStoryIndex.value++;
                        storyProgress.value = 0;
                    } else {
                        closeStory();
                    }
                };

                const prevStory = () => {
                    if (activeStoryIndex.value > 0) {
                        activeStoryIndex.value--;
                        storyProgress.value = 0;
                    }
                };

                const getStoryProgress = (index) => {
                    if (index < activeStoryIndex.value) return 100;
                    if (index > activeStoryIndex.value) return 0;
                    return storyProgress.value;
                };

                const startStoryTimer = () => {
                    clearInterval(storyTimer);
                    storyTimer = setInterval(() => {
                        if (storyProgress.value < 100) {
                            storyProgress.value += 1; // Speed of story
                        } else {
                            nextStory();
                        }
                    }, 50); // 50ms * 100 = 5000ms = 5s per story
                };

                return {
                    currentView,
                    user,
                    posts,
                    stories,
                    friends,
                    dms,
                    activePost,
                    activeStoryIndex,
                    hasUnread,
                    openPostDetail,
                    toggleLike,
                    openStory,
                    closeStory,
                    nextStory,
                    prevStory,
                    getStoryProgress
                };
            }
        }).mount('#app');
    </script>
</body>
</html>